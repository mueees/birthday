var server = require("./socketServer"),
    _ = require('underscore');

function Worker(){
    this.server = server;
    this.channel = server.channel;
}

Worker.prototype = {
    addStreamToClientChannel: function(channel, idStream){
        if( !server.channelToClient[channel] ) server.channelToClient[channel] = [];
        server.channelToClient[channel].push(idStream);
    },
    removeStreamToClientChannel: function(channel, idStream){
        var idStreams = server.channelToClient[channel];
        if( !idStreams ) return false;
        server.channelToClient[channel] = _.without(idStreams, idStream);
    }
}

module.exports = new Worker();